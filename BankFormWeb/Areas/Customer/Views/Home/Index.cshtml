@model BankForm.Models.ViewModels.StartPageVM;

<link rel="stylesheet" href="~/css/StartPageVM.css"  />


<div id="control-view">
    <div id="wrapper">
        <div class="overlay"></div>
        <!-- Sidebar -->
        <nav class="navbar navbar-inverse fixed-top" id="sidebar-wrapper" role="navigation">
            <ul class="nav sidebar-nav">
                <div class="sidebar-header">
                    <div class="sidebar-brand">
                        <a href="#">Templates</a>
                    </div>
                </div>

                @foreach (var obj in Model.templates)
                {
                            <li class="dropdown">
                                <a href="#works" class="dropdown-toggle" data-toggle="dropdown">
                                @obj.TemplateName
                                <span class="caret"></span>
                                </a>
                                    <ul class="dropdown-menu animated fadeInLeft" role="menu">
                                        <div class="dropdown-header">Sections</div>
                                        @foreach (var sec in Model.sections)
                                        {
                                            if (sec.FKTemplateId == obj.TemplateId)
                                            {
                                                <li>
                                                       <a asp-action="index" asp-route-sectionId="@sec.SectionId">@sec.SectionName</a>
                                                </li>
                                            }
                                        }
                                    </ul>
                            </li>
                }

        </nav>
        <!-- /#sidebar-wrapper -->

        <!-- Page Content -->
        <div id="page-content-wrapper">
            <button type="button" id="btn-view-controller" class="hamburger animated fadeInLeft is-closed"
                data-toggle="offcanvas">
                <span class="hamb-top"></span>
                <span class="hamb-middle"></span>
                <span class="hamb-bottom"></span>
            </button>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                            <h1>@Model.section.SectionName</h1>
                        <form asp-action="IndexPost" asp-route-answer="@Model.answers" id="mainform" method="POST">
                            @foreach (var obj in Model.questions)
                            {
                                <p>
                                                  <label>@obj.QuestionName : </label>
                                                    @foreach(var ans in Model.answers)
                                                    {
                                                        @if(ans.QuestionId == obj.QuestionId)
                                                        {
                                                                        <input asp-for="@ans.AnswerName" class="form-control">
                                                        }
                                                    }
                                                      
                                                      
                                </p>
                                    
                            }

                            <p>
                               <button  type="submit">Submit</button>
                            </p>


                        </form>   
                        
                        
                        
                        
                    </div>
                </div>
            </div>
        </div>
        <!-- /#page-content-wrapper -->
    </div>
</div>


@section scripts{
            <script>
                $(document).ready(function () {
                    var trigger = $('.hamburger'),
                    overlay = $('.overlay'),
                    isClosed = false;

                    trigger.click(function () {
                      hamburger_cross();      
                    });

                  function hamburger_cross() {

                      if (isClosed == true) {          
                        overlay.hide();
                        trigger.removeClass('is-open');
                        trigger.addClass('is-closed');
                        isClosed = false;
                      } else {   
                        overlay.show();
                        trigger.removeClass('is-closed');
                        trigger.addClass('is-open');
                        isClosed = true;
                      }
                  }

                  $('[data-toggle="offcanvas"]').click(function () {
                        $('#wrapper').toggleClass('toggled');
                  });  






                });
            </script>

}
