@model IEnumerable<Template>


<a asp-controller="Template" asp-action="Create" class="btn btn-primary btn-lg w-25 float-right mb-3 mr-5 text-dark" style="background-color:#CCD6A6; color:black; font-size:larger; font-weight:700" >
    Create Template
</a>

<table class="table table-dark">
  <thead>
    <tr>
      <th scope="col" class = "col-2 pt-4 text-center">sl no</th>
      <th scope="col" class = "col-3 text-center">Template Name</th>
      <th scope="col" class = "col-2 text-center">Display order</th>
      <th scope="col" class = "col-8 text-center">Settings</th>
    </tr>
  </thead>
  <tbody>
        @{
            int i = 0, nd = 0, nu = 0;
            if (Model.Count() != 0)
            {

                i = 1;
                nd = Model.Min(u => u.Order);
                nu = Model.Max(u => u.Order);
            }
        }
        
        @foreach(var obj in Model)
        {
            <tr>
                <td scope="row" class = "col-2 text-center">@(i++)</td>
              <td class = "col-2 text-center">@obj.TemplateName </td>

              <td class = "col-3 text-center">       
                  @if(obj.Order != nd)
                  {
                    <a class="bg-transparent border-0 " style="font-size:1.5rem; color:green;" asp-action="upward" asp-route-id="@obj.Order"><i class="bi bi-caret-up-fill"></i></a>
                  }
                  @if(obj.Order != nu)
                  {
                    <a class="bg-transparent border-0 " style="font-size:1.5rem; color:red;" asp-action="downward" asp-route-id="@obj.Order"><i class="bi bi-caret-down-fill"></i></a>  
                  }
              </td>  
              <td class = "col-2 text-center">
                   <a  class="btn ml-3 btn-primary" asp-controller="Template" asp-action="Edit" asp-route-id="@obj.TemplateId">Edit</a>
                   <a  class="btn ml-3 btn-danger" asp-controller="Template" asp-action="Delete" asp-route-id="@obj.TemplateId">Delete</a>
                   <a  class="btn ml-3 btn-success" asp-controller="Section" asp-action="Index" asp-route-templateid="@obj.TemplateId">Create Sections</a>
              </td>
        
            </tr>
        }
    
  </tbody>
</table>